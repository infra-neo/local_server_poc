# ==============================================================================
# Pre-Produccion - Environment Configuration
# ==============================================================================
# Con Headscale como red perimetral
# Dominios: hs.kappa4.com (Headscale), gate.kappa4.com (Authentik/Guacamole)

# ------------------------------------------------------------------------------
# General Configuration
# ------------------------------------------------------------------------------
COMPOSE_PROJECT_NAME=kolaboree-preproduccion

# ------------------------------------------------------------------------------
# PostgreSQL Database Configuration
# ------------------------------------------------------------------------------
POSTGRES_DB=kolaboree
POSTGRES_USER=kolaboree
POSTGRES_PASSWORD=CHANGEME_SECURE_POSTGRES_PASSWORD_MIN_32_CHARS

# ------------------------------------------------------------------------------
# Redis Cache Configuration
# ------------------------------------------------------------------------------
REDIS_PASSWORD=CHANGEME_SECURE_REDIS_PASSWORD

# ------------------------------------------------------------------------------
# OpenLDAP Configuration
# ------------------------------------------------------------------------------
LDAP_ADMIN_USERNAME=admin
LDAP_ADMIN_PASSWORD=CHANGEME_SECURE_LDAP_PASSWORD
LDAP_ROOT=kolaboree.local
LDAP_ADMIN_DN=cn=admin,dc=kolaboree,dc=local
LDAP_PORT=389
LDAPS_PORT=636

# ------------------------------------------------------------------------------
# Authentik IAM Configuration
# ------------------------------------------------------------------------------
# Secret key must be at least 50 characters
AUTHENTIK_SECRET_KEY=CHANGEME_SUPER_SECRET_AUTHENTIK_KEY_MINIMUM_50_CHARACTERS_PLEASE
AUTHENTIK_ERROR_REPORTING=false
AUTHENTIK_PORT_HTTP=9000
AUTHENTIK_PORT_HTTPS=9443
AUTHENTIK_INSECURE=false

# Authentik RAC Outpost Token
# Generate from Authentik UI: Admin > Outposts
AUTHENTIK_OUTPOST_TOKEN=CHANGEME_AUTHENTIK_OUTPOST_TOKEN

# ------------------------------------------------------------------------------
# Guacamole OIDC Configuration
# ------------------------------------------------------------------------------
GUACAMOLE_OIDC_CLIENT_ID=guacamole-rac-client
GUACAMOLE_OIDC_CLIENT_SECRET=CHANGEME_GUACAMOLE_OIDC_CLIENT_SECRET

# ------------------------------------------------------------------------------
# TSPlus Endpoint Configuration
# ------------------------------------------------------------------------------
# Ubuntu bare metal endpoint or public IP
TSPLUS_ENDPOINT=201.151.150.226
TSPLUS_PORT=3389

# ------------------------------------------------------------------------------
# Application Ports
# ------------------------------------------------------------------------------
# Nginx Reverse Proxy
NGINX_PORT=80
NGINX_HTTPS_PORT=443

# ------------------------------------------------------------------------------
# Headscale Configuration
# ------------------------------------------------------------------------------
# Perimeter network configuration
HEADSCALE_SERVER_URL=https://hs.kappa4.com
HEADSCALE_BASE_DOMAIN=hs.kappa4.com
HEADSCALE_LISTEN_ADDR=0.0.0.0:8080
HEADSCALE_METRICS_LISTEN_ADDR=0.0.0.0:9090
HEADSCALE_GRPC_LISTEN_ADDR=0.0.0.0:50443

# ------------------------------------------------------------------------------
# Domains Configuration
# ------------------------------------------------------------------------------
# Main domains for the system
DOMAIN_HEADSCALE=hs.kappa4.com
DOMAIN_GATE=gate.kappa4.com
