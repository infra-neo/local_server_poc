# Configuración de Variables de Entorno Corregida para Authentik + RAC
# Añadir estas variables al archivo .env o docker-compose.yml

# ==============================================================================
# AUTHENTIK DOMAIN CONFIGURATION (CRÍTICO PARA RAC)
# ==============================================================================
# Dominio público que usará Authentik
AUTHENTIK_HOST=gate.kappa4.com
AUTHENTIK_PUBLIC_URL=https://gate.kappa4.com

# Configuración de CORS para RAC HTML5
AUTHENTIK_WEB_ALLOWED_ORIGINS=https://gate.kappa4.com
AUTHENTIK_CORS_ALLOWED_ORIGINS=https://gate.kappa4.com

# ==============================================================================
# RAC PROVIDER CONFIGURATION
# ==============================================================================
# URL base para el proveedor RAC
AUTHENTIK_RAC_BASE_URL=https://gate.kappa4.com

# WebSocket URL para RAC (sin puerto directo)
AUTHENTIK_RAC_WEBSOCKET_URL=wss://gate.kappa4.com/ws/

# ==============================================================================
# SECURITY HEADERS
# ==============================================================================
# Frame embedding permitido solo desde el mismo origen
AUTHENTIK_WEB_X_FRAME_OPTIONS=SAMEORIGIN

# Content Security Policy para RAC
AUTHENTIK_WEB_CSP_FRAME_SRC=https://gate.kappa4.com

# ==============================================================================
# LOGGING PARA DEBUG
# ==============================================================================
# Nivel de log para debugging de RAC y WebSockets
AUTHENTIK_LOG_LEVEL=info
AUTHENTIK_WEB_LOG_LEVEL=info

# ==============================================================================
# EJEMPLO DE CONFIGURACIÓN COMPLETA EN DOCKER-COMPOSE
# ==============================================================================
# environment:
#   AUTHENTIK_HOST: gate.kappa4.com
#   AUTHENTIK_PUBLIC_URL: https://gate.kappa4.com
#   AUTHENTIK_WEB_ALLOWED_ORIGINS: https://gate.kappa4.com
#   AUTHENTIK_CORS_ALLOWED_ORIGINS: https://gate.kappa4.com
#   AUTHENTIK_RAC_BASE_URL: https://gate.kappa4.com
#   AUTHENTIK_RAC_WEBSOCKET_URL: wss://gate.kappa4.com/ws/
#   AUTHENTIK_WEB_X_FRAME_OPTIONS: SAMEORIGIN
#   AUTHENTIK_WEB_CSP_FRAME_SRC: https://gate.kappa4.com
#   AUTHENTIK_LOG_LEVEL: info